<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details | MyTicketSpot</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { 
            --primary: #E23744; 
            --primary-soft: #ffebee; 
            --dark-bg: #0f0f1a; 
            --light-bg: #F4F5F7; 
            --white: #ffffff; 
            --text-dark: #1C1C1C; 
            --text-muted: #666; 
            --border-color: #e0e0e0; 
            --radius-lg: 12px; 
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); 
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: var(--light-bg); color: var(--text-dark); }
        
        header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 1rem 5%; 
            background: var(--white); 
            border-bottom: 1px solid rgba(0,0,0,0.05); 
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo { 
            font-size: 1.5rem; 
            font-weight: 800; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            text-decoration: none;
            color: var(--text-dark);
        } 
        .logo span { color: var(--primary); }
        
        .nav-links { display: flex; gap: 25px; } 
        .nav-links a { 
            font-weight: 500; 
            opacity: 0.7; 
            text-decoration: none; 
            color: var(--text-dark); 
            transition: var(--transition); 
        } 
        .nav-links a:hover { opacity: 1; color: var(--primary); }
        
        .event-details-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: var(--primary-soft);
            border-radius: 8px;
            transition: var(--transition);
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 30px;
            align-items: start;
        }

        .event-main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .event-hero {
            background: var(--white);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .event-poster-full {
            width: 100%;
            height: 450px;
            object-fit: cover;
        }

        .event-info-header {
            padding: 30px;
        }

        .event-tags {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .tag {
            padding: 6px 15px;
            background: var(--primary-soft);
            color: var(--primary);
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .event-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .booking-sidebar {
            position: sticky;
            top: 100px;
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        .price-label { color: var(--text-muted); font-size: 0.9rem; }
        .artist-price {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .event-meta-list {
            list-style: none;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px dashed var(--border-color);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .meta-item i { color: var(--primary); width: 20px; }

        .about-section {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .about-text { line-height: 1.7; color: var(--text-muted); }

        .btn {
            width: 100%;
            padding: 16px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { 
            background: #d0303d; 
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(226, 55, 68, 0.3);
        }

        .btn-secondary { background: var(--primary-soft); color: var(--primary); }

        .interested-box {
            text-align: center;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 15px;
        }

        @media (max-width: 992px) {
            .main-layout { grid-template-columns: 1fr; }
            .booking-sidebar { position: relative; top: 0; }
            .event-poster-full { height: 300px; }
        }
    </style>
</head>
<body>

    <header>
        <a href="comedy.html" class="logo"><i class="fa-solid fa-ticket-simple" style="color:var(--primary)"></i> MyTicket<span>Spot</span></a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="comedy.html">Comedy</a>
            <a href="liveevents.html">Events</a>
        </div>
    </header>

    <div class="event-details-container">
        <a href="comedy.html" class="back-link">
            <i class="fa-solid fa-arrow-left"></i> Back to Comedy Shows
        </a>
        
        <div class="main-layout">
            <div class="event-main-content">
                <div class="event-hero">
                    <img id="eventImage" src="" alt="" class="event-poster-full">
                    <div class="event-info-header">
                        <div class="event-tags" id="eventTags">
                            </div>
                        <h1 class="event-title" id="eventTitle">Loading...</h1>
                        
                        <div class="about-section" style="box-shadow: none; padding: 0;">
                            <h2 class="section-title"><i class="fa-solid fa-circle-info"></i> About The Event</h2>
                            <p class="about-text" id="eventDescription">Loading event description...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="booking-sidebar">
                <p class="price-label">Tickets starting from</p>
                <div class="artist-price" id="eventPrice">₹0</div>
                
                <ul class="event-meta-list">
                    <li class="meta-item"><i class="fa-solid fa-user"></i> <strong id="artistName">Artist Name</strong></li>
                    <li class="meta-item"><i class="fa-solid fa-location-dot"></i> <span id="eventVenue">Venue</span></li>
                    <li class="meta-item"><i class="fa-regular fa-calendar"></i> <span id="eventDate">Date</span></li>
                    <li class="meta-item"><i class="fa-solid fa-language"></i> <span id="eventLang">Language</span></li>
                </ul>

                <button class="btn btn-primary" id="bookNowBtn">
                    <i class="fa-solid fa-ticket"></i> Book Now
                </button>
                <button class="btn btn-secondary" id="interestedBtn">
                    <i class="fa-regular fa-heart"></i> I'm Interested
                </button>

                <div class="interested-box">
                    <i class="fa-solid fa-users"></i> <span id="interestedCount">0 are interested</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Complete dataset for all comedy shows (including descriptions)
        const eventsData = {
            "comedy-001": {
                id: "comedy-001",
                title: "Kal Ki Chinta Nahi Karta ft. Ravi Gupta",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-TW9uLCAyNiBKYW4gb253YXJkcw%3D%3D,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00329412-sdgntfdcfa-portrait.jpg",
                date: "Sat 24 Jan 2026",
                time: "7:00 PM",
                venue: "Studio XO Bar",
                price: 799,
                lang: "Hindi",
                type: "STAND UP",
                artist: "Ravi Gupta",
                description: "Forget your Kal ki Chinta and Join us in this super funny Show by Ravi Gupta. Kal ki Chinta Nahi Karta is new stand up special by Ravi Gupta. Experience an evening of laughter and entertainment as one of India's finest comedians takes the stage.",
                interested: "31.5k"
            },
            "comedy-002": {
                id: "comedy-002",
                title: "Casual-Tea Ft. Madhur Virli",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-TW9uLCAyNiBKYW4gb253YXJkcw%3D%3D,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00460037-xsdetgadka-portrait.jpg",
                date: "Sat, 24 Jan",
                time: "7:30 PM",
                venue: "The Laugh Store",
                price: 499,
                lang: "Hindi",
                type: "STAND UP",
                artist: "Madhur Virli",
                description: "Join Madhur Virli for an evening of casual comedy and tea. A fresh perspective on everyday life, relationships, and the quirks of modern living.",
                interested: "12.2k"
            },
            "comedy-003": {
                id: "comedy-003",
                title: "Bas Kar Bassi - Anubhav Singh Bassi",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U2F0LCAxIEZlYiBvbndhcmRz,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00122511-epjzrxzydz-portrait.jpg",
                date: "Sun, 25 Jan",
                time: "6:00 PM",
                venue: "Kedarnath Sahni Auditorium",
                price: 999,
                lang: "Hindi",
                type: "STAND UP",
                artist: "Anubhav Singh Bassi",
                description: "Bas Kar Bassi is back with his hilarious takes on college life, relationships, and his journey to becoming a comedian. A must-watch for all Bassi fans.",
                interested: "45.3k"
            },
            "comedy-004": {
                id: "comedy-004",
                title: "Kisi Ko Batana Mat By Anubhav Singh Bassi - Delhi",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U2F0LCAxIEZlYiBvbndhcmRz,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00122511-epjzrxzydz-portrait.jpg",
                date: "Fri 13 Mar 2026",
                time: "7:00 PM",
                venue: "Tatkata Stadium, Delhi",
                price: 999,
                lang: "Hindi",
                type: "STAND UP",
                artist: "Anubhav Singh Bassi",
                description: "Kisi Ko Batana Mat is the latest comedy special by Anubhav Singh Bassi. Get ready for an evening filled with laughter, hilarious anecdotes, and Bassi's signature storytelling style.",
                interested: "45.3k"
            },
            "comedy-005": {
                id: "comedy-005",
                title: "Fresh Jokes Only - Open Mic",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U3VuLCAyIEZlYg%3D%3D,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00310275-abscdghijk-portrait.jpg",
                date: "Mon, 26 Jan",
                time: "8:00 PM",
                venue: "Central Club, Delhi",
                price: 299,
                lang: "English",
                type: "OPEN MIC",
                artist: "Various Artists",
                description: "An open mic night featuring fresh comedians trying out new material. Be the first to hear jokes that might become tomorrow's classics.",
                interested: "5.1k"
            },
            "comedy-006": {
                id: "comedy-006",
                title: "Improv Comedy Night",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U2F0LCAxIEZlYiBvbndhcmRz,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00310275-abscdghijk-portrait.jpg",
                date: "Tue, 27 Jan",
                time: "7:30 PM",
                venue: "Comedy Club Delhi",
                price: 399,
                lang: "English",
                type: "IMPROV",
                artist: "Improv Collective",
                description: "An evening of unscripted, spontaneous comedy where the audience suggests the scenes. Every show is unique and hilarious.",
                interested: "8.7k"
            }
        };

        function getEventId() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        function loadEventDetails() {
            const eventId = getEventId();
            if (!eventId || !eventsData[eventId]) {
                // If invalid ID, redirect to comedy listing
                window.location.href = 'comedy.html';
                return;
            }

            const event = eventsData[eventId];
            document.title = `${event.title} | MyTicketSpot`;

            // Populate all fields
            document.getElementById('eventImage').src = event.img;
            document.getElementById('eventTitle').textContent = event.title;
            document.getElementById('eventDescription').textContent = event.description;
            document.getElementById('eventPrice').textContent = `₹${event.price}`;
            document.getElementById('artistName').textContent = event.artist;
            document.getElementById('eventVenue').textContent = event.venue;
            document.getElementById('eventDate').textContent = `${event.date} • ${event.time}`;
            document.getElementById('eventLang').textContent = event.lang;
            document.getElementById('interestedCount').textContent = `${event.interested} people interested`;

            document.getElementById('eventTags').innerHTML = `
                <span class="tag">${event.type}</span>
                <span class="tag">${event.lang}</span>
            `;

            // Book Now: clear old keys, save event, go to seat selection
            document.getElementById('bookNowBtn').onclick = () => {
                // Clear any conflicting booking keys
                const keysToRemove = ['currentBooking', 'currentMovieBooking', 'selectedLiveEvent', 'selectedComedyEvent', 'movieBooking', 'eventBooking', 'activeBooking'];
                keysToRemove.forEach(key => localStorage.removeItem(key));

                // Save the selected event
                localStorage.setItem('selectedEvent', JSON.stringify(event));
                window.location.href = 'seat-selection.html';
            };

            // Interested button
            document.getElementById('interestedBtn').onclick = function() {
                this.innerHTML = '<i class="fa-solid fa-heart"></i> Interested';
                alert('Added to interests!');
            };
        }

        document.addEventListener('DOMContentLoaded', loadEventDetails);
    </script>
</body>
</html>