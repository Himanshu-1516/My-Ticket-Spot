<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comedy Shows | MyTicketSpot</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { 
            --primary: #E23744; 
            --primary-soft: #ffebee; 
            --dark-bg: #0f0f1a; 
            --light-bg: #F4F5F7; 
            --white: #ffffff; 
            --text-dark: #1C1C1C; 
            --text-muted: #666; 
            --border-color: #e0e0e0; 
            --radius-lg: 12px; 
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); 
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        
        body { background-color: var(--light-bg); color: var(--text-dark); padding-top: 80px; }
        
        header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 1rem 5%; 
            position: fixed; 
            width: 100%; 
            top: 0; 
            z-index: 1000; 
            background: rgba(255, 255, 255, 0.98); 
            border-bottom: 1px solid rgba(0,0,0,0.05); 
        }
        
        .logo { 
            font-size: 1.5rem; 
            font-weight: 800; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            text-decoration: none;
            color: var(--text-dark);
        } 
        .logo span { color: var(--primary); }
        
        nav { display: flex; gap: 25px; } 
        nav a { 
            font-weight: 500; 
            opacity: 0.7; 
            text-decoration: none; 
            color: var(--text-dark); 
            transition: var(--transition); 
        } 
        nav a:hover, nav a.active { opacity: 1; color: var(--primary); }
        
        .page-container { 
            max-width: 1440px; 
            margin: 0 auto; 
            padding: 40px 5%; 
            display: flex; 
            gap: 30px; 
        }
        
        .sidebar { 
            width: 280px; 
            flex-shrink: 0; 
            position: sticky; 
            top: 100px; 
            height: fit-content; 
        }
        
        .filter-box { 
            background: var(--white); 
            border-radius: var(--radius-lg); 
            padding: 20px; 
            border: 1px solid var(--border-color); 
        }
        
        .accordion-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            font-weight: 600; 
            margin-bottom: 15px; 
            margin-top: 20px;
            color: var(--text-dark);
        }
        
        .chip-container { display: flex; flex-wrap: wrap; gap: 8px; }
        
        .chip { 
            padding: 6px 14px; 
            background: #fff; 
            border: 1px solid #ddd; 
            border-radius: 20px; 
            font-size: 0.8rem; 
            cursor: pointer; 
            transition: var(--transition); 
        }
        .chip:hover { border-color: var(--primary); }
        .chip.selected { background: var(--primary-soft); color: var(--primary); border-color: var(--primary); }
        
        .main-content { flex: 1; }
        .main-content h1 { margin-bottom: 20px; font-weight: 700; color: var(--text-dark); font-size: 2rem; }

        .events-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); 
            gap: 30px; 
            margin-top: 20px; 
        }
        
        .event-card { 
            background: white; 
            border-radius: var(--radius-lg); 
            overflow: hidden; 
            border: 1px solid rgba(0,0,0,0.05); 
            transition: var(--transition); 
            cursor: pointer; 
            text-decoration: none;
            color: inherit;
            display: block;
        }
        .event-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }
        
        .card-img-wrapper { 
            height: 380px; 
            position: relative; 
            overflow: hidden; 
        } 
        .card-img-wrapper img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s ease; 
        }
        .event-card:hover .card-img-wrapper img { transform: scale(1.05); }
        
        .card-content { padding: 20px; } 
        .card-category { 
            color: var(--primary); 
            font-size: 0.75rem; 
            font-weight: 600; 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
            margin-bottom: 5px;
        }
        
        .card-title { 
            font-size: 1.25rem; 
            font-weight: 700; 
            margin: 10px 0; 
            line-height: 1.4; 
            color: var(--text-dark);
        }
        
        .card-details { 
            font-size: 0.9rem; 
            color: var(--text-muted); 
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .card-details i { 
            color: var(--primary); 
            font-size: 0.9rem;
            width: 16px;
        }
        
        .card-price { 
            font-size: 1.1rem; 
            font-weight: 700; 
            color: var(--text-dark); 
            margin-top: 15px; 
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .price-tag {
            background: var(--primary-soft);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* Simple Responsive Fix */
        @media (max-width: 900px) {
            .page-container { flex-direction: column; }
            .sidebar { width: 100%; position: relative; top: 0; margin-bottom: 30px; }
            .events-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
        }
        
        @media (max-width: 600px) {
            .events-grid { grid-template-columns: 1fr; }
            .card-img-wrapper { height: 320px; }
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="logo"><i class="fa-solid fa-ticket-simple" style="color:var(--primary)"></i> MyTicket<span>Spot</span></a>
        <nav>
            <a href="index.html">Home</a>
            <a href="#" class="active">Comedy</a>
            <a href="liveevents.html">Events</a>
        </nav>
    </header>

    <div id="listing-view" class="page-container">
        <aside class="sidebar">
            <div class="filter-box">
                <div style="font-weight:700; margin-bottom:20px; font-size: 1.1rem;">Filters <span style="float:right; color:var(--primary); font-size:0.9rem; cursor:pointer;" onclick="clearFilters()">Clear All</span></div>
                
                <div class="filter-group" data-group="lang">
                    <div class="accordion-header">Language</div>
                    <div class="chip-container">
                        <div class="chip" data-value="Hindi" onclick="toggleChip(this)">Hindi</div>
                        <div class="chip" data-value="English" onclick="toggleChip(this)">English</div>
                        <div class="chip" data-value="Punjabi" onclick="toggleChip(this)">Punjabi</div>
                    </div>
                </div>

                <div class="filter-group" data-group="category">
                    <div class="accordion-header">Category</div>
                    <div class="chip-container">
                        <div class="chip" data-value="Stand Up" onclick="toggleChip(this)">Stand Up</div>
                        <div class="chip" data-value="Open Mic" onclick="toggleChip(this)">Open Mic</div>
                        <div class="chip" data-value="Improv" onclick="toggleChip(this)">Improv</div>
                    </div>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <h1>Comedy Shows In Delhi-NCR</h1>
            <div class="events-grid" id="events-grid">
                <!-- Events will be loaded here -->
            </div>
        </main>
    </div>

    <script>
        // Event data matching your screenshots
        const comedyEvents = [
            {
                id: "comedy-001",
                title: "Kal Ki Chinta Nahi Karta ft. Ravi Gupta",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-TW9uLCAyNiBKYW4gb253YXJkcw%3D%3D,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00329412-sdgntfdcfa-portrait.jpg",
                date: "Sat 24 Jan 2026",
                venue: "Studio XO Bar",
                price: 799,
                lang: "Hindi",
                category: "Stand Up",
                type: "STAND UP"
            },
            {
                id: "comedy-002",
                title: "Casual-Tea Ft. Madhur Virli",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-TW9uLCAyNiBKYW4gb253YXJkcw%3D%3D,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00460037-xsdetgadka-portrait.jpg",
                date: "Sat, 24 Jan",
                venue: "The Laugh Store",
                price: 499,
                lang: "Hindi",
                category: "Stand Up",
                type: "STAND UP"
            },
            {
                id: "comedy-003",
                title: "Bas Kar Bassi - Anubhav Singh Bassi",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U2F0LCAxIEZlYiBvbndhcmRz,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00122511-epjzrxzydz-portrait.jpg",
                date: "Sun, 25 Jan",
                venue: "Kedarnath Sahni Auditorium",
                price: 999,
                lang: "Hindi",
                category: "Stand Up",
                type: "STAND UP"
            },
            {
                id: "comedy-004",
                title: "Kisi Ko Batana Mat By Anubhav Singh Bassi - Delhi",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U2F0LCAxIEZlYiBvbndhcmRz,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00122511-epjzrxzydz-portrait.jpg",
                date: "Fri 13 Mar 2026",
                venue: "Tatkata Stadium, Delhi",
                price: 999,
                lang: "Hindi",
                category: "Stand Up",
                type: "STAND UP"
            },
            {
                id: "comedy-005",
                title: "Fresh Jokes Only - Open Mic",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U3VuLCAyIEZlYg%3D%3D,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00310275-abscdghijk-portrait.jpg",
                date: "Mon, 26 Jan",
                venue: "Central Club, Delhi",
                price: 299,
                lang: "English",
                category: "Open Mic",
                type: "OPEN MIC"
            },
            {
                id: "comedy-006",
                title: "Improv Comedy Night",
                img: "https://assets-in.bmscdn.com/discovery-catalog/events/tr:w-400,h-600,bg-CCCCCC:w-400.0,h-660.0,cm-pad_resize,bg-000000,fo-top:l-text,ie-U2F0LCAxIEZlYiBvbndhcmRz,fs-29,co-FFFFFF,ly-612,lx-24,pa-8_0_0_0,l-end/et00310275-abscdghijk-portrait.jpg",
                date: "Tue, 27 Jan",
                venue: "Comedy Club Delhi",
                price: 399,
                lang: "English",
                category: "Improv",
                type: "IMPROV"
            }
        ];

        // Load vendor events from localStorage
        const vendorEvents = JSON.parse(localStorage.getItem('eventsDB')) || [];
        const vendorComedyEvents = vendorEvents
            .filter(e => e.category === 'comedy')
            .map((e, index) => ({
                id: `vendor-comedy-${index}`,
                title: e.title,
                img: e.img,
                date: e.date,
                venue: e.venue,
                price: e.price,
                lang: e.language || "Hindi",
                category: e.genre || "Stand Up",
                type: (e.genre || "Stand Up").toUpperCase()
            }));

        const allEvents = [...comedyEvents, ...vendorComedyEvents];

        // Render events to the page
        function renderEvents(filteredEvents = allEvents) {
            const grid = document.getElementById('events-grid');
            
            if (filteredEvents.length === 0) {
                grid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 60px 20px;">
                        <i class="fa-solid fa-face-frown" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--text-muted); font-weight: 500;">No comedy shows match your filters</h3>
                        <p style="color: var(--text-muted); margin-top: 10px;">Try adjusting your filters or check back soon for new shows!</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = filteredEvents.map(event => `
                <a href="event-details.html?id=${event.id}" class="event-card" 
                     data-lang="${event.lang}" 
                     data-category="${event.category}"
                     data-price="${event.price}">
                    
                    <div class="card-img-wrapper">
                        <img src="${event.img}" alt="${event.title}" 
                             onerror="this.src='https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                    </div>
                    
                    <div class="card-content">
                        <div class="card-category">${event.type}</div>
                        <h3 class="card-title">${event.title}</h3>
                        <div class="card-details">
                            <i class="fa-solid fa-location-dot"></i>
                            <span>${event.venue}</span>
                        </div>
                        <div class="card-details">
                            <i class="fa-regular fa-calendar"></i>
                            <span>${event.date}</span>
                        </div>
                        <div class="card-price">
                            <span>â‚¹${event.price}</span>
                            <span class="price-tag">BOOK NOW</span>
                        </div>
                    </div>
                </a>
            `).join('');
        }

        // Filter functions
        let activeFilters = {
            lang: [],
            category: []
        };

        function toggleChip(chip) {
            chip.classList.toggle('selected');
            applyFilters();
        }

        function clearFilters() {
            document.querySelectorAll('.chip').forEach(chip => {
                chip.classList.remove('selected');
            });
            
            activeFilters = { lang: [], category: [] };
            renderEvents(allEvents);
        }

        function applyFilters() {
            const selectedLangs = Array.from(document.querySelectorAll('[data-group="lang"] .chip.selected'))
                .map(chip => chip.dataset.value);
            
            const selectedCategories = Array.from(document.querySelectorAll('[data-group="category"] .chip.selected'))
                .map(chip => chip.dataset.value);

            const filteredEvents = allEvents.filter(event => {
                const langMatch = selectedLangs.length === 0 || selectedLangs.includes(event.lang);
                const categoryMatch = selectedCategories.length === 0 || selectedCategories.includes(event.category);
                return langMatch && categoryMatch;
            });

            renderEvents(filteredEvents);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            renderEvents();
        });
    </script>
</body>
</html>